<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="author" content="Florian Le Bourdais">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">
        <title>Un flux RSS pour le podcast Sur les épaules de Darwin | Frolian's blog</title>

	<link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">
	<link rel="icon" href="/favicon.ico" type="image/x-icon">
        <link rel="alternate" type="application/atom+xml" title="Frolian's blog blog atom feed" href="/feeds/all.atom.xml" />
        <link href='https://fonts.googleapis.com/css?family=Source+Sans+Pro:300,400,700' rel='stylesheet' type='text/css'>

        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
        <link rel="stylesheet" type="text/css" href="/theme/css/icons.css"/>
        <style>.highlight .hll { background-color: #ffffcc }
.highlight .c { color: #60a0b0; font-style: italic } /* Comment */
.highlight .err { border: 1px solid #FF0000 } /* Error */
.highlight .k { color: #007020; font-weight: bold } /* Keyword */
.highlight .o { color: #666666 } /* Operator */
.highlight .cm { color: #60a0b0; font-style: italic } /* Comment.Multiline */
.highlight .cp { color: #007020 } /* Comment.Preproc */
.highlight .c1 { color: #60a0b0; font-style: italic } /* Comment.Single */
.highlight .cs { color: #60a0b0; background-color: #fff0f0 } /* Comment.Special */
.highlight .gd { color: #A00000 } /* Generic.Deleted */
.highlight .ge { font-style: italic } /* Generic.Emph */
.highlight .gr { color: #FF0000 } /* Generic.Error */
.highlight .gh { color: #000080; font-weight: bold } /* Generic.Heading */
.highlight .gi { color: #00A000 } /* Generic.Inserted */
.highlight .go { color: #808080 } /* Generic.Output */
.highlight .gp { color: #c65d09; font-weight: bold } /* Generic.Prompt */
.highlight .gs { font-weight: bold } /* Generic.Strong */
.highlight .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
.highlight .gt { color: #0040D0 } /* Generic.Traceback */
.highlight .kc { color: #007020; font-weight: bold } /* Keyword.Constant */
.highlight .kd { color: #007020; font-weight: bold } /* Keyword.Declaration */
.highlight .kn { color: #007020; font-weight: bold } /* Keyword.Namespace */
.highlight .kp { color: #007020 } /* Keyword.Pseudo */
.highlight .kr { color: #007020; font-weight: bold } /* Keyword.Reserved */
.highlight .kt { color: #902000 } /* Keyword.Type */
.highlight .m { color: #40a070 } /* Literal.Number */
.highlight .s { color: #4070a0 } /* Literal.String */
.highlight .na { color: #4070a0 } /* Name.Attribute */
.highlight .nb { color: #007020 } /* Name.Builtin */
.highlight .nc { color: #0e84b5; font-weight: bold } /* Name.Class */
.highlight .no { color: #60add5 } /* Name.Constant */
.highlight .nd { color: #555555; font-weight: bold } /* Name.Decorator */
.highlight .ni { color: #d55537; font-weight: bold } /* Name.Entity */
.highlight .ne { color: #007020 } /* Name.Exception */
.highlight .nf { color: #06287e } /* Name.Function */
.highlight .nl { color: #002070; font-weight: bold } /* Name.Label */
.highlight .nn { color: #0e84b5; font-weight: bold } /* Name.Namespace */
.highlight .nt { color: #062873; font-weight: bold } /* Name.Tag */
.highlight .nv { color: #bb60d5 } /* Name.Variable */
.highlight .ow { color: #007020; font-weight: bold } /* Operator.Word */
.highlight .w { color: #bbbbbb } /* Text.Whitespace */
.highlight .mf { color: #40a070 } /* Literal.Number.Float */
.highlight .mh { color: #40a070 } /* Literal.Number.Hex */
.highlight .mi { color: #40a070 } /* Literal.Number.Integer */
.highlight .mo { color: #40a070 } /* Literal.Number.Oct */
.highlight .sb { color: #4070a0 } /* Literal.String.Backtick */
.highlight .sc { color: #4070a0 } /* Literal.String.Char */
.highlight .sd { color: #4070a0; font-style: italic } /* Literal.String.Doc */
.highlight .s2 { color: #4070a0 } /* Literal.String.Double */
.highlight .se { color: #4070a0; font-weight: bold } /* Literal.String.Escape */
.highlight .sh { color: #4070a0 } /* Literal.String.Heredoc */
.highlight .si { color: #70a0d0; font-style: italic } /* Literal.String.Interpol */
.highlight .sx { color: #c65d09 } /* Literal.String.Other */
.highlight .sr { color: #235388 } /* Literal.String.Regex */
.highlight .s1 { color: #4070a0 } /* Literal.String.Single */
.highlight .ss { color: #517918 } /* Literal.String.Symbol */
.highlight .bp { color: #007020 } /* Name.Builtin.Pseudo */
.highlight .vc { color: #bb60d5 } /* Name.Variable.Class */
.highlight .vg { color: #bb60d5 } /* Name.Variable.Global */
.highlight .vi { color: #bb60d5 } /* Name.Variable.Instance */
.highlight .il { color: #40a070 } /* Literal.Number.Integer.Long */</style>
        <style>body {
  margin: 0;
  padding: 0;
  font: 15px 'Source Sans Pro', sans-serif;
  line-height: 1.6em;
  color: #222;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
}
a {
  color: #007EE5;
  text-decoration: none;
}
a:hover {
  color: #007EE5;
  text-decoration: none;
}
header.main-header {
  background: none repeat scroll 0% 0% #205F29;
  margin-bottom: 0px;
}
header.main-header a {
  color: #fff;
}
header.main-header .container {
  max-width: 1000px;
}
header.main-header .container nav a:hover {
  background-color: #5C881C;
}
article {
  margin: 0;
}
article header.about {
  margin-bottom: 0px;
  padding-bottom: 0px;
}
article header {
  margin-bottom: 20px;
  padding-bottom: 20px;
}
article header h1 {
  margin-bottom: 2px;
  font-weight: 700;
  color: #000;
}
article header time {
  color: #9E9E9E;
  font-size: 0.85em;
  float: right;
}
article header time.left {
  color: #9E9E9E;
  font-size: 0.85em;
  float: left;
}
article div.social-links ul {
  padding: 0px;
}
article div.social-links li {
  display: inline;
  font-size: 20px;
}
article div.social-links li a {
  color: #000;
  padding: 10px;
}
article div.social-links li a:hover {
  color: #666;
  text-decoration: none;
}
article p {
  font-size: 16px;
  margin-bottom: 20px;
  line-height: 1.6em;
}
article p.note {
  background: #f5f5f5;
  border: 1px solid #ddd;
  padding: 0.533em 0.733em;
}
article p.update {
  background-color: #FEEFB3;
  border: 1px solid #e6e68a;
  padding: 0.533em 0.733em;
}
article p.alert {
  background-color: #ffe2e2;
  border: 1px solid #ffb2b2;
  padding: 0.533em 0.733em;
}
article ul,
article ol {
  margin-top: 0px;
  margin-bottom: 25px;
}
article li {
  font-size: 16px;
  line-height: 1.6em;
}
article a:hover {
  text-decoration: underline;
}
article blockquote {
  border-left: 2px solid #c7c7cc;
  color: #666;
  margin: 30px 0;
  padding: 0 0 0 25px;
}
article img {
  max-width: 100%;
}
article code {
  color: #333;
  background-color: #EEE;
  border-radius: 0;
  font-size: 13px;
}
article .meta {
  font-size: 11px;
}
article .meta a:hover {
  text-decoration: none;
}
article .meta div {
  margin-bottom: 20px;
  display: block;
}
article header a.tag {
  padding: 1px 12px;
  display: inline-block;
  font-size: 14px;
  color: rgba(0, 0, 0, 0.8);
  background: rgba(0, 0, 0, 0.05);
}
article header a.tag:hover{
  background: rgba(0, 0, 0, 0.15);
  text-decoration: none;
}
article .meta a.tag {
  margin: 0 10px 10px 0;
  padding: 1px 12px;
  display: inline-block;
  font-size: 14px;
  color: rgba(0, 0, 0, 0.8);
  background: rgba(0, 0, 0, 0.05);
}
article .meta a.tag:hover {
  background: rgba(0, 0, 0, 0.15);
}
article .meta a.read_more,
article .meta a.comments_btn {
  font-size: 14px;
  font-weight: 800;
  padding: 10px 20px;
  color: #205F29;
  background: #FFF;
  border: 1px solid #205F29;
}
article .meta a.read_more:hover,
article .meta a.comments_btn:hover {
  color: #FFF;
  background: #5C881C;
}
.index {
  max-width: 800px;
}
.index article header h2 {
  font-size: 36px;
  margin-bottom: 2px;
  font-weight: 700;
}
.index article header h2 a {
  color: #000;
}
.index article header h2 a:hover {
  color: #007EE5;
  text-decoration: none;
}
.index .separator {
  padding: 40px 0 0 0;
  margin: 0 0 40px 0;
  height: 10px;
  border-bottom: solid 1px #CCC;
}
.index .pagination {
  display: block;
  margin-bottom: 100px;
}
.index .pagination .left {
  text-align: right;
}
.index .pagination .right {
  text-align: left;
}
.index .pagination a {
  display: inline-block;
  border: 2px solid #5C881C;
  margin: 0 5px;
  padding: 8px 20px;
  font-weight: bold;
  color: #5C881C;
}
.index .pagination a:hover {
  color: #FFF;
  background: #5C881C;
}
.post {
  max-width: 800px;
}
.post h2:before {
  content: "# ";
  font-weight: bold;
  color: #DDD;
}
.post h3:before {
  content: "## ";
  font-weight: bold;
  color: #DDD;
}
.post h4:before {
  content: "### ";
  font-weight: bold;
  color: #DDD;
}
.post article .meta {
  margin: 50px 0 50px;
}
.list {
  max-width: 800px;
}
.list ul.double-list {
  margin: 0 auto 60px;
  padding: 0;
  list-style-type: none;
}
.list ul.double-list li {
  padding: 5px 0;
}
.list ul.double-list li h2 {
  font-size: 1em;
  display: inline;
  font-weight: normal;
}
.list ul.double-list li span {
  font-family: sans-serif;
  text-transform: uppercase;
  text-align: right;
  float: right;
  padding-top: 3px;
  font-size: 12px;
  color: #999;
}
.full-width-content {
  padding-top: 10px;
  padding-left: 0px;
  padding-right: 0px;
  margin-left: -20px;
  margin-right: -20px;
}
.col-xs-1,
.col-sm-1,
.col-md-1,
.col-lg-1,
.col-xs-2,
.col-sm-2,
.col-md-2,
.col-lg-2,
.col-xs-3,
.col-sm-3,
.col-md-3,
.col-lg-3,
.col-xs-4,
.col-sm-4,
.col-md-4,
.col-lg-4,
.col-xs-5,
.col-sm-5,
.col-md-5,
.col-lg-5,
.col-xs-6,
.col-sm-6,
.col-md-6,
.col-lg-6,
.col-xs-7,
.col-sm-7,
.col-md-7,
.col-lg-7,
.col-xs-8,
.col-sm-8,
.col-md-8,
.col-lg-8,
.col-xs-9,
.col-sm-9,
.col-md-9,
.col-lg-9,
.col-xs-10,
.col-sm-10,
.col-md-10,
.col-lg-10,
.col-xs-11,
.col-sm-11,
.col-md-11,
.col-lg-11,
.col-xs-12,
.col-sm-12,
.col-md-12,
.col-lg-12 {
  padding-right: 0px;
  padding-left: 0px;
}
.featured-image {
  display: block;
  margin-left: auto;
  margin-right: auto;
  max-height: 350px;
}

/* These two styles allow my Twitter and Github icons to match the them */

.inverted-svg {
  filter: invert(50%);
}

.inverted-svg:hover {
  filter: invert(100%);
}

/* Blog subtitle styling */

.blog-subtitle {
  font-size: 10px;
  font-style: italic;
  padding-left: 5px;
  padding-right: 5px;
}


/* These elements allow me to configure my sharing icons */

.share ul {
  text-align: right;
}

.share li {
  display: inline;
  padding: 0 5px;
}

.share img {
  width: 2em;
}</style>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>


    </head>

    <body>
        <header class="navbar navbar-inverse bs-docs-nav">
            <div class="container-fluid">
                <div class="navbar-header">
		  <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#theNavbar">
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span>
		    <span class="icon-bar"></span> 
		  </button>
                  <a class="navbar-brand" href="/" title="Home" class="title">Frolian's blog</a>
                  <span class='navbar-brand blog-subtitle'>standing on the shoulders of PyGiants</span>
                </div>
                <nav class="collapse navbar-collapse bs-navbar-collapse" role="navigation" id="theNavbar">
		    <ul class="nav navbar-nav navbar-right">
                        <li><a href="https://github.com/flothesof" target="_blank" title="Look at my GitHub">
                            <svg viewBox="0 0 18 16" style="width: 20px; height: 20px;" class="inverted-svg">
                              <g>
                                <path d="M8 0C3.58 0 0 3.582 0 8c0 3.535 2.292 6.533 5.47 7.59.4.075.547-.172.547-.385 0-.19-.007-.693-.01-1.36-2.226.483-2.695-1.073-2.695-1.073-.364-.924-.89-1.17-.89-1.17-.725-.496.056-.486.056-.486.803.056 1.225.824 1.225.824.714 1.223 1.873.87 2.33.665.072-.517.278-.87.507-1.07-1.777-.2-3.644-.888-3.644-3.953 0-.873.31-1.587.823-2.147-.083-.202-.358-1.015.077-2.117 0 0 .672-.215 2.2.82.638-.178 1.323-.266 2.003-.27.68.004 1.364.092 2.003.27 1.527-1.035 2.198-.82 2.198-.82.437 1.102.163 1.915.08 2.117.513.56.823 1.274.823 2.147 0 3.073-1.87 3.75-3.653 3.947.287.246.543.735.543 1.48 0 1.07-.01 1.933-.01 2.195 0 .215.144.463.55.385C13.71 14.53 16 11.534 16 8c0-4.418-3.582-8-8-8"></path>
                              </g>
                            </svg>
                        </a></li>
                        <li><a href="https://twitter.com/frolianlb" target="_blank" title="Follow me on Twitter">
                            <svg viewBox="0 0 18 16" style="width: 20px; height: 20px;" class="inverted-svg">
                              <g>
                                <path d="M16 3.038c-.59.26-1.22.437-1.885.517.677-.407 1.198-1.05 1.443-1.816-.634.375-1.337.648-2.085.795-.598-.638-1.45-1.036-2.396-1.036-1.812 0-3.282 1.468-3.282 3.28 0 .258.03.51.085.75C5.152 5.39 2.733 4.084 1.114 2.1.83 2.583.67 3.147.67 3.75c0 1.14.58 2.143 1.46 2.732-.538-.017-1.045-.165-1.487-.41v.04c0 1.59 1.13 2.918 2.633 3.22-.276.074-.566.114-.865.114-.21 0-.416-.02-.617-.058.418 1.304 1.63 2.253 3.067 2.28-1.124.88-2.54 1.404-4.077 1.404-.265 0-.526-.015-.783-.045 1.453.93 3.178 1.474 5.032 1.474 6.038 0 9.34-5 9.34-9.338 0-.143-.004-.284-.01-.425.64-.463 1.198-1.04 1.638-1.7z" fill-rule="nonzero"></path>
                              </g>
                            </svg>
                        </a></li>
                            <li><a href="pages/about.html" title="About">About</a></li>
                            <li><a href="/archives.html" title="Archive">Archive</a></li>
                            <li><a class="nodec icon-rss" href="rss.xml" title="flothesof.github.io RSS feed" rel="me"></a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <div id="wrap">
<div class="container post">
    <article>
        <header>
            <h1>Un flux RSS pour le podcast Sur les épaules de Darwin</h1>
			<time datetime="article.date.isoformat()" pubdate>08/09/2017</time>			
			<div>
					<a href="http://flothesof.github.io/tag/podcast.html" class="tag">Podcast</a>
			</div>
        </header>

        <div class="article_content">
            <div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Dans ce billet, nous allons <a href="http://flothesof.github.io/podcast-rendez-vous-avec-X-fr.html">comme il y a quelques semaines</a>, construire un flux RSS pour mon émission radio préférée : <em>Sur les épaules de Darwin</em>, animée par l'extraordinaire Jean Claude Ameisen.</p>
<p>Afin de faire ceci, nous allons partir du <a href="http://clementgrimal.fr/darwin/">travail de Clément Grimal</a>, qui maintient une liste à jour des émissions avec des liens de téléchargement.</p>
<p>Une question, avant de commencer. Pourquoi faire ce travail, alors que le site de Clément permet déjà d'écouter à volonté ces émissions ? Parce que son site ne permet pas de faire une recherche plein texte sur le contenu des émissions et également parce que j'aime écouter les émissions dans un logiciel de podcast afin de garder un historique de mes écoutes (j'utilise <a href="https://play.google.com/store/apps/details?id=com.bambuna.podcastaddict&amp;hl=en">Podcast Addict</a>).</p>
<p><strong>TL;DR</strong>
Le lien vers le flux RSS généré à partir du présent notebook est ici : <em><a href="https://raw.githubusercontent.com/flothesof/posts/master/files/podcast_Sur_les_epaules_de_Darwin.xml">https://raw.githubusercontent.com/flothesof/posts/master/files/podcast_Sur_les_epaules_de_Darwin.xml</a></em></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Date de dernière mise à jour : <em>avril 2020</em>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="R&#233;cup&#233;ration-des-liens-vers-les-&#233;missions">R&#233;cup&#233;ration des liens vers les &#233;missions<a class="anchor-link" href="#R&#233;cup&#233;ration-des-liens-vers-les-&#233;missions">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Comme je le disais, notre point de départ est le site de Clément Grimal. Nous analysons sa source avec <code>beautifulsoup4</code> pour en extraire les éléments qui nous intéressent :</p>
<ul>
<li>titre de l'émission</li>
<li>date de diffusion</li>
<li>lien de téléchargement</li>
<li>lien vers la page du site France Inter</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[1]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">from</span> <span class="nn">bs4</span> <span class="kn">import</span> <span class="n">BeautifulSoup</span>


<span class="n">base_url</span> <span class="o">=</span> <span class="s2">&quot;http://clementgrimal.fr/darwin/&quot;</span>

<span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">base_url</span><span class="p">)</span>
<span class="n">r</span><span class="o">.</span><span class="n">encoding</span> <span class="o">=</span> <span class="s1">&#39;utf-8&#39;</span>

<span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>L'objet <code>soup</code> nous permet d'extraire les différents éléments de la page web, de manière structurée. On obtient la liste de toutes les émissions de cette manière :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[2]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">all_shows</span> <span class="o">=</span> <span class="p">([</span><span class="n">item</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="p">(</span><span class="n">li</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;table&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">li</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">findAll</span><span class="p">(</span><span class="s1">&#39;li&#39;</span><span class="p">))</span> <span class="k">if</span> <span class="n">item</span><span class="p">])</span>

<span class="nb">len</span><span class="p">(</span><span class="n">all_shows</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[2]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>516</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>A partir du tag <code>li</code> (item de liste en HTML), on peut obtenir le lien vers le fichier mp3 ainsi que le site France Inter, de même que le titre et la date de diffusion.</p>
<p>Par exemple avec le dernier épisode :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[3]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show</span> <span class="o">=</span> <span class="n">all_shows</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

<span class="n">show</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;download-link&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[3]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;./files/2020-04-11 - aux-origines-du-chocolat-8.mp3&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[4]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[4]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-11-avril-2020&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[5]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[5]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;Aux Origines du Chocolat (8)&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[6]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nb">str</span><span class="p">(</span><span class="n">show</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">next_sibling</span><span class="p">)[</span><span class="mi">14</span><span class="p">:]</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[6]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;11 Avril 2020&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ecrivons maintenant une boucle pour extraire ces informations pour l'intégralité des épisodes :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[7]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">show_data</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">show</span> <span class="ow">in</span> <span class="n">all_shows</span><span class="p">:</span>
    <span class="n">download_link</span> <span class="o">=</span> <span class="n">show</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;download-link&#39;</span><span class="p">)</span>
    <span class="n">description_link</span> <span class="o">=</span> <span class="n">show</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">show</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="n">date</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">show</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;span&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">next_sibling</span><span class="p">)[</span><span class="mi">14</span><span class="p">:]</span>
    <span class="k">if</span> <span class="n">download_link</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">download_link</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;.&#39;</span><span class="p">):</span>
            <span class="n">download_link</span> <span class="o">=</span> <span class="s2">&quot;http://clementgrimal.fr/darwin&quot;</span> <span class="o">+</span> <span class="n">download_link</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()[</span><span class="mi">1</span><span class="p">:]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">download_link</span> <span class="o">=</span> <span class="n">download_link</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
        <span class="n">show_data</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">download_link</span><span class="p">,</span> <span class="n">description_link</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">date</span><span class="p">])</span>
    <span class="k">else</span><span class="p">:</span> 
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;lien de téléchargement indisponible pour l&#39;émission </span><span class="si">{</span><span class="n">show</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;href&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stdout output_text">
<pre>lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-12-janvier-2013
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-28-mars-2015
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-04-avril-2015
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-11-avril-2015
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-02-juin-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-09-juin-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-29-juin-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-06-juillet-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-13-juillet-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-20-juillet-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-27-juillet-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-03-aout-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-10-aout-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-17-aout-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-24-aout-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-30-novembre-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-14-decembre-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-21-decembre-2019
lien de téléchargement indisponible pour l&#39;émission https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-01-fevrier-2020
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Construisons une dataframe <code>pandas</code> avec ces données :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[8]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">show_data</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;lien mp3&#39;</span><span class="p">,</span> <span class="s1">&#39;lien description&#39;</span><span class="p">,</span> <span class="s1">&#39;titre&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">])</span>
<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[8]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>lien mp3</th>
      <th>lien description</th>
      <th>titre</th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>La théorie de l'évolution de Charles Darwin</td>
      <td>4 Septembre 2010</td>
    </tr>
    <tr>
      <th>1</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>Le propre de l'homme?</td>
      <td>11 Septembre 2010</td>
    </tr>
    <tr>
      <th>2</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>Nos mémoires</td>
      <td>18 Septembre 2010</td>
    </tr>
    <tr>
      <th>3</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>Nos émotions</td>
      <td>25 Septembre 2010</td>
    </tr>
    <tr>
      <th>4</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>Longévité, jeunesse et vieillissement</td>
      <td>2 Octobre 2010</td>
    </tr>
    <tr>
      <th>5</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>MORT CELLULAIRE ET SCULPTURE DU VIVANT</td>
      <td>9 Octobre 2010</td>
    </tr>
    <tr>
      <th>6</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>NAISSANCES</td>
      <td>16 Octobre 2010</td>
    </tr>
    <tr>
      <th>7</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>Biodiversité</td>
      <td>23 Octobre 2010</td>
    </tr>
    <tr>
      <th>8</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>mort cellulaire et sculpture du vivant (2)</td>
      <td>30 Octobre 2010</td>
    </tr>
    <tr>
      <th>9</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>Un voyage avec Oliver Sacks         ( 1 )</td>
      <td>6 Novembre 2010</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[9]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[9]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>lien mp3</th>
      <th>lien description</th>
      <th>titre</th>
      <th>date</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>497</td>
      <td>497</td>
      <td>497</td>
      <td>497</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>497</td>
      <td>497</td>
      <td>394</td>
      <td>497</td>
    </tr>
    <tr>
      <th>top</th>
      <td>http://clementgrimal.fr/darwin/files/2016-10-0...</td>
      <td>https://www.franceinter.fr/emissions/sur-les-e...</td>
      <td>Les battements du temps (21)</td>
      <td>11 Juin 2016</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>1</td>
      <td>1</td>
      <td>3</td>
      <td>1</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Nous voilà maintenant en possession des liens vers 497 épisodes publiés avec lien de téléchargement sur le site de Clément Grimal. On remarque que certaines d'entre elles sont des rediffusions (394 titres uniques sur 497).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Téléchargeons maintenant les descriptions des émissions, afin de construire un fil RSS avec celles-ci.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="T&#233;l&#233;chargement-des-descriptions-&#224;-partir-du-site-de-France-Inter">T&#233;l&#233;chargement des descriptions &#224; partir du site de France Inter<a class="anchor-link" href="#T&#233;l&#233;chargement-des-descriptions-&#224;-partir-du-site-de-France-Inter">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Nous avons les liens vers la page de chaque émission : si on lit celle-ci, on peut en extraire le contenu que nous cherchons, c'est-à-dire la description de l'épisode.</p>
<p>Essayons de faire cela avec le dernier épisode en date.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[10]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">link</span> <span class="o">=</span> <span class="n">df</span><span class="p">[</span><span class="s1">&#39;lien description&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<span class="n">link</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[10]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#39;https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-11-avril-2020&#39;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[11]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">link</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[12]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">article_tag</span> <span class="o">=</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;article&#39;</span><span class="p">)</span>
<span class="n">article_tag</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[12]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&lt;article class=&#34;content-body&#34;&gt;
&lt;p class=&#34;chapo&#34;&gt;
            Merci à vous, (un million six cent quatre vingt mille) auditeurs fidèles 
Portez-vous bien ainsi que tous les vôtres
        &lt;/p&gt;
&lt;figure class=&#34;rich-visual&#34;&gt;&lt;picture&gt;&lt;source class=&#34;dejavu&#34; data-dejavu-srcset=&#34;https://cdn.radiofrance.fr/s3/cruiser-production/2020/04/997ff263-9655-4a2d-9504-3b5ca104b734/640_gettyimages-960923834.webp&#34; srcset=&#34;data:image/jpeg;base64,/9j/2wBDACgcHiMeGSgjISMtKygwPGRBPDc3PHtYXUlkkYCZlo+AjIqgtObDoKrarYqMyP/L2u71////m8H////6/+b9//j/2wBDASstLTw1PHZBQXb4pYyl+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj/wAARCAAZACoDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAQIEA//EACIQAAICAQMFAQEAAAAAAAAAAAECAAMREiExBBMyQWEiYv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAwDAQACEQMRAD8AddAq1MdoGdWrzXzJ7ASRv+B6ha5gAKk9ScxdO9zkDC4I5hXqRrwVyPklFli+XuapYrDGMZjBVidq3g7j1D21+SWrp7Es1hwZVq/mTpTilLEyTvMtFgfCrtN6+I45mpiV6W3A3P2ZIdJ0uCPsvMmt8o5ojddlGOCIhrOfIwjxWNAv/9k=&#34; type=&#34;image/webp&#34;/&gt;&lt;img alt=&#34;le chocolat&#34; class=&#34;dejavu&#34; data-dejavu-src=&#34;https://cdn.radiofrance.fr/s3/cruiser-production/2020/04/997ff263-9655-4a2d-9504-3b5ca104b734/640_gettyimages-960923834.jpg&#34; height=&#34;391&#34; src=&#34;data:image/jpeg;base64, /9j/2wBDACgcHiMeGSgjISMtKygwPGRBPDc3PHtYXUlkkYCZlo+AjIqgtObDoKrarYqMyP/L2u71////m8H////6/+b9//j/2wBDASstLTw1PHZBQXb4pYyl+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj/wAARCAAZACoDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAQIEA//EACIQAAICAQMFAQEAAAAAAAAAAAECAAMREiExBBMyQWEiYv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAwDAQACEQMRAD8AddAq1MdoGdWrzXzJ7ASRv+B6ha5gAKk9ScxdO9zkDC4I5hXqRrwVyPklFli+XuapYrDGMZjBVidq3g7j1D21+SWrp7Es1hwZVq/mTpTilLEyTvMtFgfCrtN6+I45mpiV6W3A3P2ZIdJ0uCPsvMmt8o5ojddlGOCIhrOfIwjxWNAv/9k=&#34; width=&#34;640&#34;/&gt;&lt;/picture&gt;&lt;figcaption&gt;le chocolat © Getty /  kolderal&lt;/figcaption&gt;&lt;/figure&gt;
&lt;h2&gt;Une rediffusion de l&#39;émission du 19 janvier 2019&lt;/h2&gt;
&lt;h2&gt;Jean Claude Ameisen, en écoutant l&#39;émission, nous signale qu&#39;il a fait un lapsus à la fin de la deuxième partie. Il voulait dire &#34;3 siècles&#34; (et non &#34;3 ans&#34; !) avant le règne du grand roi Hammourabi&#34;.&lt;/h2&gt;
&lt;h2&gt;Articles scientifiques :&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Zarrillo S, Gaikwad N, Lanaud C, et coll.&lt;/em&gt; _&lt;strong&gt;The use and domestication of Theobroma cacao during the mid-Holocene in the upper Amazon&lt;/strong&gt;_&lt;em&gt;. Nature Ecology and Evolution 2018, 2:1879-88.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Powis T, Cyphers A, Gaikwad N, et coll.&lt;/em&gt; _&lt;strong&gt;Cacao use and the San Lorenzo Olmec&lt;/strong&gt;_&lt;em&gt;. Proceedings of the National Academy of Sciences USA 2011, 108:8595-600. &lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Powis T, Hurst J, del Carmen Rodríguez, et coll.&lt;/em&gt; _&lt;strong&gt;Oldest chocolate in the New World&lt;/strong&gt;_&lt;em&gt;. Antiquity 2007, 81:314.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Valdez F, Guffroy J, de Saulieu G, et coll.&lt;/em&gt; _&lt;strong&gt;Découverte d’un site cérémoniel formatif sur le versant oriental des Andes&lt;/strong&gt;_&lt;em&gt;. Comptes Rendus Palevol 2005, 4:39-74.&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Livres : &lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;John Keats. &lt;em&gt;&lt;strong&gt;Poèmes&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt;.&lt;/strong&gt;[Edition Bilingue]. Imprimerie Nationale Editions, 2000.&lt;/li&gt;
&lt;li&gt;John Keats. _&lt;strong&gt;Seul dans la splendeur&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; [Edition Bilingue]&lt;em&gt;.&lt;/em&gt; Points, 2009.&lt;/li&gt;
&lt;li&gt;César Itier. _&lt;strong&gt;Les Incas&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Guides Belles Lettres des Civilisations, Les Belles Lettres, 2010.&lt;/li&gt;
&lt;li&gt;John Hemming. _&lt;strong&gt;The conquest of the Incas&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Mariner Books, 2012.&lt;/li&gt;
&lt;li&gt;Walter Isaacson. _&lt;strong&gt;Leonardo da Vinci. The Biography&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Simon and Schuster, 2017.&lt;/li&gt;
&lt;li&gt;Tommy Orange. _&lt;strong&gt;There There&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Alfred A. Knopf, 2018.&lt;/li&gt;
&lt;li&gt;Federico Garcia Lorca. _&lt;strong&gt;Oeuvres complètes&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; [Tome 1. Poésie]. Gallimard, Bibliothèque de la Pléiade, 1981.&lt;/li&gt;
&lt;li&gt;Emily Jungmin Yoon._&lt;strong&gt;A cruelty special to our species. Poems&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Ecco, 2018.&lt;/li&gt;
&lt;li&gt;Sophie Coe, Michael Coe. _&lt;strong&gt;The true history of chocolate&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Thames and Hudson Ltd, 2013.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Chansons diffusées :&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Malik Djoudi - &lt;em&gt;&lt;strong&gt;Tempérament&lt;/strong&gt;&lt;/em&gt; - Cinq 7&lt;/li&gt;
&lt;li&gt;William Z Villain - &lt;em&gt;&lt;strong&gt;Something beautiful&lt;/strong&gt;&lt;/em&gt; - Miliani Editions&lt;/li&gt;
&lt;li&gt;Aldous Harding / John Parish / Enrico Gabrielli - &lt;em&gt;&lt;strong&gt;Horizon&lt;/strong&gt;&lt;/em&gt; - 4 AD&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Il se trouve que des balises script sont contenues dans les épisodes (elles affichent de la publicité sur le site de France Inter).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Si on reformate les tags HTML, on obtient le résultat suivant :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[13]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;section&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">text</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[13]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&#34;AccueilÉmissions\n                                                                    Sur les épaules de Darwin\n                                                            Aux Origines du Chocolat (8)                            Sur les épaules de Darwin\n                        samedi 11 avril 2020\n                                                            par\n                                Jean Claude AmeisenAux Origines du Chocolat (8)\n                                                        53 minutes\n                        réécouters&#39;abonnerPodcastRSSréagirContact&#34;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[14]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">clean</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">tags_to_clean</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;script&#39;</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Nettoie le HTML de l&#39;émission en enlevant les balises inutiles.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags_to_clean</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">tag</span><span class="p">):</span>
            <span class="n">item</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">soup</span><span class="o">.</span><span class="n">article</span>

<span class="n">clean</span><span class="p">(</span><span class="n">soup</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[14]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>&lt;article class=&#34;content-body&#34;&gt;
&lt;p class=&#34;chapo&#34;&gt;
            Merci à vous, (un million six cent quatre vingt mille) auditeurs fidèles 
Portez-vous bien ainsi que tous les vôtres
        &lt;/p&gt;
&lt;figure class=&#34;rich-visual&#34;&gt;&lt;picture&gt;&lt;source class=&#34;dejavu&#34; data-dejavu-srcset=&#34;https://cdn.radiofrance.fr/s3/cruiser-production/2020/04/997ff263-9655-4a2d-9504-3b5ca104b734/640_gettyimages-960923834.webp&#34; srcset=&#34;data:image/jpeg;base64,/9j/2wBDACgcHiMeGSgjISMtKygwPGRBPDc3PHtYXUlkkYCZlo+AjIqgtObDoKrarYqMyP/L2u71////m8H////6/+b9//j/2wBDASstLTw1PHZBQXb4pYyl+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj/wAARCAAZACoDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAQIEA//EACIQAAICAQMFAQEAAAAAAAAAAAECAAMREiExBBMyQWEiYv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAwDAQACEQMRAD8AddAq1MdoGdWrzXzJ7ASRv+B6ha5gAKk9ScxdO9zkDC4I5hXqRrwVyPklFli+XuapYrDGMZjBVidq3g7j1D21+SWrp7Es1hwZVq/mTpTilLEyTvMtFgfCrtN6+I45mpiV6W3A3P2ZIdJ0uCPsvMmt8o5ojddlGOCIhrOfIwjxWNAv/9k=&#34; type=&#34;image/webp&#34;/&gt;&lt;img alt=&#34;le chocolat&#34; class=&#34;dejavu&#34; data-dejavu-src=&#34;https://cdn.radiofrance.fr/s3/cruiser-production/2020/04/997ff263-9655-4a2d-9504-3b5ca104b734/640_gettyimages-960923834.jpg&#34; height=&#34;391&#34; src=&#34;data:image/jpeg;base64, /9j/2wBDACgcHiMeGSgjISMtKygwPGRBPDc3PHtYXUlkkYCZlo+AjIqgtObDoKrarYqMyP/L2u71////m8H////6/+b9//j/2wBDASstLTw1PHZBQXb4pYyl+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj/wAARCAAZACoDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAQIEA//EACIQAAICAQMFAQEAAAAAAAAAAAECAAMREiExBBMyQWEiYv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAwDAQACEQMRAD8AddAq1MdoGdWrzXzJ7ASRv+B6ha5gAKk9ScxdO9zkDC4I5hXqRrwVyPklFli+XuapYrDGMZjBVidq3g7j1D21+SWrp7Es1hwZVq/mTpTilLEyTvMtFgfCrtN6+I45mpiV6W3A3P2ZIdJ0uCPsvMmt8o5ojddlGOCIhrOfIwjxWNAv/9k=&#34; width=&#34;640&#34;/&gt;&lt;/picture&gt;&lt;figcaption&gt;le chocolat © Getty /  kolderal&lt;/figcaption&gt;&lt;/figure&gt;
&lt;h2&gt;Une rediffusion de l&#39;émission du 19 janvier 2019&lt;/h2&gt;
&lt;h2&gt;Jean Claude Ameisen, en écoutant l&#39;émission, nous signale qu&#39;il a fait un lapsus à la fin de la deuxième partie. Il voulait dire &#34;3 siècles&#34; (et non &#34;3 ans&#34; !) avant le règne du grand roi Hammourabi&#34;.&lt;/h2&gt;
&lt;h2&gt;Articles scientifiques :&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;em&gt;Zarrillo S, Gaikwad N, Lanaud C, et coll.&lt;/em&gt; _&lt;strong&gt;The use and domestication of Theobroma cacao during the mid-Holocene in the upper Amazon&lt;/strong&gt;_&lt;em&gt;. Nature Ecology and Evolution 2018, 2:1879-88.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Powis T, Cyphers A, Gaikwad N, et coll.&lt;/em&gt; _&lt;strong&gt;Cacao use and the San Lorenzo Olmec&lt;/strong&gt;_&lt;em&gt;. Proceedings of the National Academy of Sciences USA 2011, 108:8595-600. &lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Powis T, Hurst J, del Carmen Rodríguez, et coll.&lt;/em&gt; _&lt;strong&gt;Oldest chocolate in the New World&lt;/strong&gt;_&lt;em&gt;. Antiquity 2007, 81:314.&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;&lt;em&gt;Valdez F, Guffroy J, de Saulieu G, et coll.&lt;/em&gt; _&lt;strong&gt;Découverte d’un site cérémoniel formatif sur le versant oriental des Andes&lt;/strong&gt;_&lt;em&gt;. Comptes Rendus Palevol 2005, 4:39-74.&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Livres : &lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;John Keats. &lt;em&gt;&lt;strong&gt;Poèmes&lt;/strong&gt;&lt;/em&gt;&lt;strong&gt;.&lt;/strong&gt;[Edition Bilingue]. Imprimerie Nationale Editions, 2000.&lt;/li&gt;
&lt;li&gt;John Keats. _&lt;strong&gt;Seul dans la splendeur&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; [Edition Bilingue]&lt;em&gt;.&lt;/em&gt; Points, 2009.&lt;/li&gt;
&lt;li&gt;César Itier. _&lt;strong&gt;Les Incas&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Guides Belles Lettres des Civilisations, Les Belles Lettres, 2010.&lt;/li&gt;
&lt;li&gt;John Hemming. _&lt;strong&gt;The conquest of the Incas&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Mariner Books, 2012.&lt;/li&gt;
&lt;li&gt;Walter Isaacson. _&lt;strong&gt;Leonardo da Vinci. The Biography&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Simon and Schuster, 2017.&lt;/li&gt;
&lt;li&gt;Tommy Orange. _&lt;strong&gt;There There&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Alfred A. Knopf, 2018.&lt;/li&gt;
&lt;li&gt;Federico Garcia Lorca. _&lt;strong&gt;Oeuvres complètes&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; [Tome 1. Poésie]. Gallimard, Bibliothèque de la Pléiade, 1981.&lt;/li&gt;
&lt;li&gt;Emily Jungmin Yoon._&lt;strong&gt;A cruelty special to our species. Poems&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Ecco, 2018.&lt;/li&gt;
&lt;li&gt;Sophie Coe, Michael Coe. _&lt;strong&gt;The true history of chocolate&lt;/strong&gt;_&lt;em&gt;.&lt;/em&gt; Thames and Hudson Ltd, 2013.&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Chansons diffusées :&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Malik Djoudi - &lt;em&gt;&lt;strong&gt;Tempérament&lt;/strong&gt;&lt;/em&gt; - Cinq 7&lt;/li&gt;
&lt;li&gt;William Z Villain - &lt;em&gt;&lt;strong&gt;Something beautiful&lt;/strong&gt;&lt;/em&gt; - Miliani Editions&lt;/li&gt;
&lt;li&gt;Aldous Harding / John Parish / Enrico Gabrielli - &lt;em&gt;&lt;strong&gt;Horizon&lt;/strong&gt;&lt;/em&gt; - 4 AD&lt;/li&gt;
&lt;/ul&gt;
&lt;/article&gt;</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On peut afficher un aperçu de notre description :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[15]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">HTML</span>

<span class="n">HTML</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">clean</span><span class="p">(</span><span class="n">soup</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[15]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<article class="content-body">
<p class="chapo">
            Merci à vous, (un million six cent quatre vingt mille) auditeurs fidèles 
Portez-vous bien ainsi que tous les vôtres
        </p>
<figure class="rich-visual"><picture><source class="dejavu" data-dejavu-srcset="https://cdn.radiofrance.fr/s3/cruiser-production/2020/04/997ff263-9655-4a2d-9504-3b5ca104b734/640_gettyimages-960923834.webp" srcset="data:image/jpeg;base64,/9j/2wBDACgcHiMeGSgjISMtKygwPGRBPDc3PHtYXUlkkYCZlo+AjIqgtObDoKrarYqMyP/L2u71////m8H////6/+b9//j/2wBDASstLTw1PHZBQXb4pYyl+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj/wAARCAAZACoDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAQIEA//EACIQAAICAQMFAQEAAAAAAAAAAAECAAMREiExBBMyQWEiYv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAwDAQACEQMRAD8AddAq1MdoGdWrzXzJ7ASRv+B6ha5gAKk9ScxdO9zkDC4I5hXqRrwVyPklFli+XuapYrDGMZjBVidq3g7j1D21+SWrp7Es1hwZVq/mTpTilLEyTvMtFgfCrtN6+I45mpiV6W3A3P2ZIdJ0uCPsvMmt8o5ojddlGOCIhrOfIwjxWNAv/9k=" type="image/webp"/><img alt="le chocolat" class="dejavu" data-dejavu-src="https://cdn.radiofrance.fr/s3/cruiser-production/2020/04/997ff263-9655-4a2d-9504-3b5ca104b734/640_gettyimages-960923834.jpg" height="391" src="data:image/jpeg;base64, /9j/2wBDACgcHiMeGSgjISMtKygwPGRBPDc3PHtYXUlkkYCZlo+AjIqgtObDoKrarYqMyP/L2u71////m8H////6/+b9//j/2wBDASstLTw1PHZBQXb4pYyl+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj/wAARCAAZACoDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAQIEA//EACIQAAICAQMFAQEAAAAAAAAAAAECAAMREiExBBMyQWEiYv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAwDAQACEQMRAD8AddAq1MdoGdWrzXzJ7ASRv+B6ha5gAKk9ScxdO9zkDC4I5hXqRrwVyPklFli+XuapYrDGMZjBVidq3g7j1D21+SWrp7Es1hwZVq/mTpTilLEyTvMtFgfCrtN6+I45mpiV6W3A3P2ZIdJ0uCPsvMmt8o5ojddlGOCIhrOfIwjxWNAv/9k=" width="640"/></picture><figcaption>le chocolat © Getty /  kolderal</figcaption></figure>
<h2>Une rediffusion de l'émission du 19 janvier 2019</h2>
<h2>Jean Claude Ameisen, en écoutant l'émission, nous signale qu'il a fait un lapsus à la fin de la deuxième partie. Il voulait dire "3 siècles" (et non "3 ans" !) avant le règne du grand roi Hammourabi".</h2>
<h2>Articles scientifiques :</h2>
<ul>
<li><em>Zarrillo S, Gaikwad N, Lanaud C, et coll.</em> _<strong>The use and domestication of Theobroma cacao during the mid-Holocene in the upper Amazon</strong>_<em>. Nature Ecology and Evolution 2018, 2:1879-88.</em></li>
<li><em>Powis T, Cyphers A, Gaikwad N, et coll.</em> _<strong>Cacao use and the San Lorenzo Olmec</strong>_<em>. Proceedings of the National Academy of Sciences USA 2011, 108:8595-600. </em></li>
<li><em>Powis T, Hurst J, del Carmen Rodríguez, et coll.</em> _<strong>Oldest chocolate in the New World</strong>_<em>. Antiquity 2007, 81:314.</em></li>
<li><em>Valdez F, Guffroy J, de Saulieu G, et coll.</em> _<strong>Découverte d’un site cérémoniel formatif sur le versant oriental des Andes</strong>_<em>. Comptes Rendus Palevol 2005, 4:39-74.</em></li>
</ul>
<h2>Livres : </h2>
<ul>
<li>John Keats. <em><strong>Poèmes</strong></em><strong>.</strong>[Edition Bilingue]. Imprimerie Nationale Editions, 2000.</li>
<li>John Keats. _<strong>Seul dans la splendeur</strong>_<em>.</em> [Edition Bilingue]<em>.</em> Points, 2009.</li>
<li>César Itier. _<strong>Les Incas</strong>_<em>.</em> Guides Belles Lettres des Civilisations, Les Belles Lettres, 2010.</li>
<li>John Hemming. _<strong>The conquest of the Incas</strong>_<em>.</em> Mariner Books, 2012.</li>
<li>Walter Isaacson. _<strong>Leonardo da Vinci. The Biography</strong>_<em>.</em> Simon and Schuster, 2017.</li>
<li>Tommy Orange. _<strong>There There</strong>_<em>.</em> Alfred A. Knopf, 2018.</li>
<li>Federico Garcia Lorca. _<strong>Oeuvres complètes</strong>_<em>.</em> [Tome 1. Poésie]. Gallimard, Bibliothèque de la Pléiade, 1981.</li>
<li>Emily Jungmin Yoon._<strong>A cruelty special to our species. Poems</strong>_<em>.</em> Ecco, 2018.</li>
<li>Sophie Coe, Michael Coe. _<strong>The true history of chocolate</strong>_<em>.</em> Thames and Hudson Ltd, 2013.</li>
</ul>
<h2>Chansons diffusées :</h2>
<ul>
<li>Malik Djoudi - <em><strong>Tempérament</strong></em> - Cinq 7</li>
<li>William Z Villain - <em><strong>Something beautiful</strong></em> - Miliani Editions</li>
<li>Aldous Harding / John Parish / Enrico Gabrielli - <em><strong>Horizon</strong></em> - 4 AD</li>
</ul>
</article>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Ceci étant fait, on peut écrire une boucle pour extraire toutes les descriptions d'épisode :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[16]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">lru_cache</span>

<span class="nd">@lru_cache</span><span class="p">(</span><span class="n">maxsize</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">link_getter</span><span class="p">(</span><span class="n">description_link</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Récupère la page de l&#39;émission en question, stocke le résultat pour un accès ultérieur plus rapide.&quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">description_link</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[17]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">tqdm</span>

<span class="n">descriptions</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">description_link</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;lien description&#39;</span><span class="p">]):</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">link_getter</span><span class="p">(</span><span class="n">description_link</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
    <span class="n">descriptions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clean</span><span class="p">(</span><span class="n">soup</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|██████████| 497/497 [07:11&lt;00:00,  1.15it/s]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On peut compléter notre <code>dataframe</code> avec les descriptions obtenues :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[18]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">descriptions</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;description_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">d</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">d</span> <span class="ow">in</span> <span class="n">descriptions</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Afin de vérifier que tout va bien, nous allons faire un pré-affichage rapide avec <code>ipywidgets</code>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[19]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="kn">import</span> <span class="n">interact</span>

<span class="nd">@interact</span>
<span class="k">def</span> <span class="nf">preview_html</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)):</span>
    <span class="k">return</span> <span class="n">HTML</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;a href=&#39;</span><span class="si">{</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;lien description&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; target=&#39;_blank&#39;&gt;lien&lt;/a&gt;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">n</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





 
 
<div id="78d9720e-b8ac-4d87-b0d1-5fdba15ce5d6"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#78d9720e-b8ac-4d87-b0d1-5fdba15ce5d6');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "3d1607cf1b8945e58f0f0c68284f06c5", "version_major": 2, "version_minor": 0}
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Rajouter-d'autres-sections">Rajouter d'autres sections<a class="anchor-link" href="#Rajouter-d'autres-sections">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Comme on peut le voir sur cet épisode [<a href="https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-16-mai-2015">https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin/sur-les-epaules-de-darwin-16-mai-2015</a>], parfois les références sont cachées dans un tag <code>section</code>, avec le nom de l'équipe de production. Comptons le nombre de tag <code>section</code> :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[20]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sections</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">description_link</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;lien description&#39;</span><span class="p">]):</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">link_getter</span><span class="p">(</span><span class="n">description_link</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
    <span class="n">sections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;main-content&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;section&#39;</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|██████████| 497/497 [00:45&lt;00:00, 10.90it/s]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Et regardons le comptage :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[21]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">sections</span><span class="p">)</span><span class="o">.</span><span class="n">value_counts</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[21]:</div>




<div class="output_text output_subarea output_execute_result">
<pre>2    295
1    189
3     10
0      3
dtype: int64</pre>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On peut donc proposer un deuxième algorithme : on va chercher les sections supplémentaires en-dessous de <code>main-content</code> et on les nettoie elles-aussi.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[22]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">clean2</span><span class="p">(</span><span class="n">soup</span><span class="p">,</span> <span class="n">tags_to_clean</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;script&#39;</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot;Nettoie le HTML de l&#39;émission en enlevant les balises inutiles.&quot;&quot;&quot;</span>
    <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">tags_to_clean</span><span class="p">:</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="n">tag</span><span class="p">):</span>
            <span class="n">item</span><span class="o">.</span><span class="n">decompose</span><span class="p">()</span>
    <span class="k">return</span> <span class="nb">str</span><span class="p">(</span><span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;main-content&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">article</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="nb">str</span><span class="p">(</span><span class="n">item</span><span class="p">)</span> <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">soup</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;main-content&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">find_all</span><span class="p">(</span><span class="s1">&#39;section&#39;</span><span class="p">,</span> <span class="n">class_</span><span class="o">=</span><span class="s1">&#39;content-body-more-details&#39;</span><span class="p">)])</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[23]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">HTML</span><span class="p">(</span><span class="n">clean2</span><span class="p">(</span><span class="n">soup</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[23]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<article class="content-body">
<p class="chapo">
            Merci à vous, (un million six cent quatre vingt mille) auditeurs fidèles 
Portez-vous bien ainsi que tous les vôtres
        </p>
<figure class="rich-visual"><picture><source class="dejavu" data-dejavu-srcset="https://cdn.radiofrance.fr/s3/cruiser-production/2020/04/997ff263-9655-4a2d-9504-3b5ca104b734/640_gettyimages-960923834.webp" srcset="data:image/jpeg;base64,/9j/2wBDACgcHiMeGSgjISMtKygwPGRBPDc3PHtYXUlkkYCZlo+AjIqgtObDoKrarYqMyP/L2u71////m8H////6/+b9//j/2wBDASstLTw1PHZBQXb4pYyl+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj/wAARCAAZACoDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAQIEA//EACIQAAICAQMFAQEAAAAAAAAAAAECAAMREiExBBMyQWEiYv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAwDAQACEQMRAD8AddAq1MdoGdWrzXzJ7ASRv+B6ha5gAKk9ScxdO9zkDC4I5hXqRrwVyPklFli+XuapYrDGMZjBVidq3g7j1D21+SWrp7Es1hwZVq/mTpTilLEyTvMtFgfCrtN6+I45mpiV6W3A3P2ZIdJ0uCPsvMmt8o5ojddlGOCIhrOfIwjxWNAv/9k=" type="image/webp"/><img alt="le chocolat" class="dejavu" data-dejavu-src="https://cdn.radiofrance.fr/s3/cruiser-production/2020/04/997ff263-9655-4a2d-9504-3b5ca104b734/640_gettyimages-960923834.jpg" height="391" src="data:image/jpeg;base64, /9j/2wBDACgcHiMeGSgjISMtKygwPGRBPDc3PHtYXUlkkYCZlo+AjIqgtObDoKrarYqMyP/L2u71////m8H////6/+b9//j/2wBDASstLTw1PHZBQXb4pYyl+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj/wAARCAAZACoDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAQIEA//EACIQAAICAQMFAQEAAAAAAAAAAAECAAMREiExBBMyQWEiYv/EABYBAQEBAAAAAAAAAAAAAAAAAAECAP/EABYRAQEBAAAAAAAAAAAAAAAAAAARAf/aAAwDAQACEQMRAD8AddAq1MdoGdWrzXzJ7ASRv+B6ha5gAKk9ScxdO9zkDC4I5hXqRrwVyPklFli+XuapYrDGMZjBVidq3g7j1D21+SWrp7Es1hwZVq/mTpTilLEyTvMtFgfCrtN6+I45mpiV6W3A3P2ZIdJ0uCPsvMmt8o5ojddlGOCIhrOfIwjxWNAv/9k=" width="640"/></picture><figcaption>le chocolat © Getty /  kolderal</figcaption></figure>
<h2>Une rediffusion de l'émission du 19 janvier 2019</h2>
<h2>Jean Claude Ameisen, en écoutant l'émission, nous signale qu'il a fait un lapsus à la fin de la deuxième partie. Il voulait dire "3 siècles" (et non "3 ans" !) avant le règne du grand roi Hammourabi".</h2>
<h2>Articles scientifiques :</h2>
<ul>
<li><em>Zarrillo S, Gaikwad N, Lanaud C, et coll.</em> _<strong>The use and domestication of Theobroma cacao during the mid-Holocene in the upper Amazon</strong>_<em>. Nature Ecology and Evolution 2018, 2:1879-88.</em></li>
<li><em>Powis T, Cyphers A, Gaikwad N, et coll.</em> _<strong>Cacao use and the San Lorenzo Olmec</strong>_<em>. Proceedings of the National Academy of Sciences USA 2011, 108:8595-600. </em></li>
<li><em>Powis T, Hurst J, del Carmen Rodríguez, et coll.</em> _<strong>Oldest chocolate in the New World</strong>_<em>. Antiquity 2007, 81:314.</em></li>
<li><em>Valdez F, Guffroy J, de Saulieu G, et coll.</em> _<strong>Découverte d’un site cérémoniel formatif sur le versant oriental des Andes</strong>_<em>. Comptes Rendus Palevol 2005, 4:39-74.</em></li>
</ul>
<h2>Livres : </h2>
<ul>
<li>John Keats. <em><strong>Poèmes</strong></em><strong>.</strong>[Edition Bilingue]. Imprimerie Nationale Editions, 2000.</li>
<li>John Keats. _<strong>Seul dans la splendeur</strong>_<em>.</em> [Edition Bilingue]<em>.</em> Points, 2009.</li>
<li>César Itier. _<strong>Les Incas</strong>_<em>.</em> Guides Belles Lettres des Civilisations, Les Belles Lettres, 2010.</li>
<li>John Hemming. _<strong>The conquest of the Incas</strong>_<em>.</em> Mariner Books, 2012.</li>
<li>Walter Isaacson. _<strong>Leonardo da Vinci. The Biography</strong>_<em>.</em> Simon and Schuster, 2017.</li>
<li>Tommy Orange. _<strong>There There</strong>_<em>.</em> Alfred A. Knopf, 2018.</li>
<li>Federico Garcia Lorca. _<strong>Oeuvres complètes</strong>_<em>.</em> [Tome 1. Poésie]. Gallimard, Bibliothèque de la Pléiade, 1981.</li>
<li>Emily Jungmin Yoon._<strong>A cruelty special to our species. Poems</strong>_<em>.</em> Ecco, 2018.</li>
<li>Sophie Coe, Michael Coe. _<strong>The true history of chocolate</strong>_<em>.</em> Thames and Hudson Ltd, 2013.</li>
</ul>
<h2>Chansons diffusées :</h2>
<ul>
<li>Malik Djoudi - <em><strong>Tempérament</strong></em> - Cinq 7</li>
<li>William Z Villain - <em><strong>Something beautiful</strong></em> - Miliani Editions</li>
<li>Aldous Harding / John Parish / Enrico Gabrielli - <em><strong>Horizon</strong></em> - 4 AD</li>
</ul>
</article><section class="content-body-more-details"><div class="section-title title-alone no-margin"><div class="h1">
        
            L'équipe

                        
            </div><div class="side-content hidden"></div></div><ul class="content-body-more-details-list"><li><a href="/personnes/jean-claude-ameisen-0" title="Jean Claude Ameisen">Jean Claude Ameisen</a><span>Auteur</span></li><li><a href="/personnes/christophe-imbert" title="Christophe Imbert">Christophe Imbert</a><span>Réalisateur</span></li><li><a href="/personnes/christophe-mager" title="Christophe Mager">Christophe Mager</a><span>Attaché de production</span></li></ul></section>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>On met à jour les descriptions.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[24]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">descriptions</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">description_link</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;lien description&#39;</span><span class="p">]):</span>
    <span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">link_getter</span><span class="p">(</span><span class="n">description_link</span><span class="p">)</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>
    <span class="n">descriptions</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">clean2</span><span class="p">(</span><span class="n">soup</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|██████████| 497/497 [00:51&lt;00:00,  9.64it/s]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[31]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">descriptions</span>

<span class="n">df</span><span class="p">[</span><span class="s1">&#39;description_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">desc</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span> <span class="k">for</span> <span class="n">desc</span> <span class="ow">in</span> <span class="n">descriptions</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Et on vérifie qu'on a le résultat attendu.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[32]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="nd">@interact</span>
<span class="k">def</span> <span class="nf">preview_html</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">df</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)):</span>
    <span class="k">return</span> <span class="n">HTML</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;&lt;a href=&#39;</span><span class="si">{</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;lien description&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">n</span><span class="p">]</span><span class="si">}</span><span class="s2">&#39; target=&#39;_blank&#39;&gt;lien&lt;/a&gt;&quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">description</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">n</span><span class="p">]))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>





 
 
<div id="64688186-79b2-4b90-8543-119abad59ad3"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#64688186-79b2-4b90-8543-119abad59ad3');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "3ef78f0ad3ac449780aee360357c9068", "version_major": 2, "version_minor": 0}
</script>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Un dernier test :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[27]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">soup</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">link_getter</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;lien description&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">230</span><span class="p">])</span><span class="o">.</span><span class="n">text</span><span class="p">,</span> <span class="s1">&#39;html.parser&#39;</span><span class="p">)</span>

<span class="n">HTML</span><span class="p">(</span><span class="n">clean2</span><span class="p">(</span><span class="n">soup</span><span class="p">))</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[27]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<article class="content-body">
<p class="chapo">
            Des animaux pharmaciens et médecins (2)
        </p>
<h3>Articles scientifiques :</h3>
<p>Luncz LV, Boesch C. The extent of cultural variation between adjacent chimpanzee (<em>Pan troglodytes verus</em> ) communities; a microecological approach. <em>American Journal of Physical Anthropology</em>  2015, 156:67-75.</p>
<p>Gendron CM, Kuo TH, Harvanek ZM, <em>et coll</em> . Drosophila life span and physiology are modulated by sexual perception and reward. <em>Science</em>  2014, 343:544-8.</p>
<div class="dva_ad inread" data-adunit="128139881/RF_france_inter/divers/divers/rg/inread" id="inread"></div>

<p>Shurkin J. News feature: Animals that self-medicate. <em>Proceedings of the National Academy of Sciences of the USA</em> 2014, 111:17339-41.</p>
<p>Underwood E. The taste of things to come. <em>Science</em>  2014, 345:750-1.</p>
<p>Kacsoh BZ, Lynch ZR, Mortimer NT, <em>et coll</em> . Fruit flies medicate offspring after seeing parasites. <em>Science</em>  2013, 339:947-50.</p>
<p>de Roode J, Lefèvre T, Hunter M. Self-medication in animals. <em>Science</em> 2013, 340:150-1.</p>
<p>Boesch C. Christophe Boesch. <em>Current Biology</em>  2012, 22:R936-7.</p>
<p>Milan NF, Kacsoh BZ, Schlenke TA. Alcohol consumption as self-medication against blood-borne parasites in the fruit fly. <em>Current Biology</em>  2012, 22:488-93.</p>
<p>Shohat-Ophir G, Kaun KR, Azanchi R, <em>et coll</em> . Sexual deprivation increases ethanol intake in Drosophila. <em>Science</em>  2012, 335:1351-5.</p>
<p>Zars T. Physiology. She said no, pass me a beer. <em>Science</em>  2012, 335:1309-10.</p>
<p>Luncz LV, Mundry R, Boesch C. Evidence for cultural differences between neighboring chimpanzee communities. <em>Current Biology</em>  2012, 22:922-6.</p>
<p>Kaun KR, Azanchi R, Maung Z, <em>et coll</em> . A Drosophila model for alcohol reward. <em>Nature Neuroscience</em>  2011, 14:612-9.</p>
<p>Morell V. Called ‘trimates’, three bold women shaped their field. <em>Science</em> 1993, 260:420-5.</p>
<p>Morell V. Seeing nature through the lens of gender. <em>Science</em>  1993, 260:428-9.</p>
<h3>Autres publications :</h3>
<p>Dossier n°86 <em>Pour la Science</em> , janvier - mars 2015. Nos cousins les grands singes.</p>
<p>Christophe Boesch. Les chimpanzés : des grands singes pétris de culture. Dossier n°86 <em>Pour la Science</em> , janvier - mars 2015. Nos cousins les grands singes, pp50-5.</p>
<p>Letter from Charles Darwin to Asa Grey, 22 May 1860: <a href="http://www%5C.darwinproject%5C.ac%5C.uk/letter/entry%5C-2814" target="_blank">http://www\.darwinproject\.ac\.uk/letter/entry\-2814</a></p>
<h3>Agenda :</h3>
<p>Exposition <strong>« Sur la piste des Grands Singes »</strong> , à la Grande Galerie de l’Évolution du Muséum national d’Histoire naturelle, Jardin des Plantes, Paris, du 11 février au 21 mars 2015. <a href="http://www.mnhn.fr/fr/visitez/agenda/exposition/piste-grands-singes" target="_blank">http://www.mnhn.fr/fr/visitez/agenda/exposition/piste-grands-singes</a></p>
<p>Tout le programme de <strong>« La saison des Grands Singes » :</strong>  <a href="http://www%5C.mnhn%5C.fr/fr/visitez/agenda/saison/saison%5C-grands%5C-singes" target="_blank">http://www\.mnhn\.fr/fr/visitez/agenda/saison/saison\-grands\-singes</a></p>
</article><section class="content-body-more-details"><div class="section-title title-alone no-margin"><div class="h1">
        
            Les références

                        
            </div><div class="side-content hidden"></div></div><ul class="content-body-more-details-list"><li><a href="/oeuvres/cliche-cosmique" title="Cliché cosmique">Cliché cosmique<span> par Mathieu Saïkaly</span></a><span>(Polydor)</span></li><li><a href="/oeuvres/nemesis-0" title="Nemesis">Nemesis<span> par Benjamin Clementine</span></a><span>(Behind)</span></li><li><a href="/oeuvres/les-chimpanzes-des-monts-de-la-lune-0" title="Les Chimpanzés des Monts de la Lune">Les Chimpanzés des Monts de la Lune<span> écrit par Sabrina Krief</span></a><span>(Belin)</span></li><li><a href="/oeuvres/i-m-thru-love" title="I'm thru with love">I'm thru with love<span> par Ella Fitzgerald</span></a></li><li><a href="/oeuvres/dans-la-lumiere-et-les-ombres-darwin-et-le-bouleversement-du-monde" title="Dans la lumière et les ombres. Darwin et le bouleversement du monde">Dans la lumière et les ombres. Darwin et le bouleversement du monde<span> écrit par Jean Claude Ameisen</span></a><span>(points seuil)</span></li></ul></section>
<section class="content-body-more-details"><div class="section-title title-alone no-margin"><div class="h1">
        
            L'équipe

                        
            </div><div class="side-content hidden"></div></div><ul class="content-body-more-details-list"><li><a href="/personnes/jean-claude-ameisen-0" title="Jean Claude Ameisen">Jean Claude Ameisen</a><span>Auteur</span></li><li><a href="/personnes/christophe-imbert" title="Christophe Imbert">Christophe Imbert</a><span>Réalisateur (trice)</span></li><li><a href="/personnes/jean-baptiste-audibert" title="Jean-Baptiste Audibert">Jean-Baptiste Audibert</a><span>Programmateur (trice) musical (e)</span></li><li><a href="/personnes/christophe-mager" title="Christophe Mager">Christophe Mager</a><span>Attaché(e) de production</span></li></ul></section>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Il nous manque encore la récupération des tailles de fichier mp3, qui sera inscrite dans le flux RSS :</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Taille-des-fichiers-mp3">Taille des fichiers mp3<a class="anchor-link" href="#Taille-des-fichiers-mp3">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[28]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">byte_lengths</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">mp3_link</span> <span class="ow">in</span> <span class="n">tqdm</span><span class="o">.</span><span class="n">tqdm</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;lien mp3&#39;</span><span class="p">]):</span>
    <span class="n">r</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">mp3_link</span><span class="p">)</span>
    <span class="n">byte_lengths</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">r</span><span class="o">.</span><span class="n">headers</span><span class="p">[</span><span class="s1">&#39;content-length&#39;</span><span class="p">])</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt"></div>


<div class="output_subarea output_stream output_stderr output_text">
<pre>100%|██████████| 497/497 [00:14&lt;00:00, 34.02it/s]
</pre>
</div>
</div>

</div>
</div>

</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[29]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">df</span><span class="p">[</span><span class="s1">&#39;byte_length&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">byte_lengths</span>

<span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">

    <div class="prompt output_prompt">Out[29]:</div>



<div class="output_html rendered_html output_subarea output_execute_result">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>lien mp3</th>
      <th>lien description</th>
      <th>titre</th>
      <th>date</th>
      <th>description</th>
      <th>description_text</th>
      <th>byte_length</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>La théorie de l'évolution de Charles Darwin</td>
      <td>4 Septembre 2010</td>
      <td>&lt;article class="content-body"&gt;\n&lt;p&gt;&lt;strong&gt;Bib...</td>
      <td>&lt;article class="content-body"&gt;\n&lt;p&gt;&lt;strong&gt;Bib...</td>
      <td>51120256</td>
    </tr>
    <tr>
      <th>1</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>Le propre de l'homme?</td>
      <td>11 Septembre 2010</td>
      <td>&lt;article class="content-body"&gt;\n&lt;h3&gt;&lt;strong&gt;pr...</td>
      <td>&lt;article class="content-body"&gt;\n&lt;h3&gt;&lt;strong&gt;pr...</td>
      <td>52287616</td>
    </tr>
    <tr>
      <th>2</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>Nos mémoires</td>
      <td>18 Septembre 2010</td>
      <td>&lt;article class="content-body"&gt;\n&lt;h3&gt;&lt;strong&gt;pr...</td>
      <td>&lt;article class="content-body"&gt;\n&lt;h3&gt;&lt;strong&gt;pr...</td>
      <td>51320960</td>
    </tr>
    <tr>
      <th>3</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>Nos émotions</td>
      <td>25 Septembre 2010</td>
      <td>&lt;article class="content-body"&gt;\n&lt;h3&gt;&lt;strong&gt;pr...</td>
      <td>&lt;article class="content-body"&gt;\n&lt;h3&gt;&lt;strong&gt;pr...</td>
      <td>54608000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>http://prevost.pascal.free.fr/public/podcast/s...</td>
      <td>http://www.franceinter.fr/em/sur-les-epaules-d...</td>
      <td>Longévité, jeunesse et vieillissement</td>
      <td>2 Octobre 2010</td>
      <td>&lt;article class="content-body"&gt;\n&lt;h3&gt;&lt;strong&gt;pr...</td>
      <td>&lt;article class="content-body"&gt;\n&lt;h3&gt;&lt;strong&gt;pr...</td>
      <td>52762752</td>
    </tr>
  </tbody>
</table>
</div>
</div>

</div>

</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Ecriture-du-fichier-RSS">Ecriture du fichier RSS<a class="anchor-link" href="#Ecriture-du-fichier-RSS">&#182;</a></h1>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Maintenant que nous avons collecté toutes les émissions, nous pouvons écrire un ficher RSS, comme nous l'avions déjà fait <a href="http://flothesof.github.io/podcast-rendez-vous-avec-X-fr.html">dans le cas de l'émission Rendez vous avec X</a>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>L'un des points importants est que nous voulons écrire du HTML dans la description du podcast. Pour ce faire, nous devons utiliser un champ dédié : <code>&lt;content:encoded&gt;</code> alors que le champ <code>&lt;description&gt;</code> ne doit contenir que du texte (source ici : <a href="https://podnews.net/article/how-podcast-show-notes-display">https://podnews.net/article/how-podcast-show-notes-display</a>).</p>

</div>
</div>
</div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">
<div class="prompt input_prompt">In&nbsp;[34]:</div>
<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">dateparser</span>
<span class="kn">import</span> <span class="nn">xml.etree.cElementTree</span> <span class="k">as</span> <span class="nn">ET</span>

<span class="n">rss</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">Element</span><span class="p">(</span><span class="s2">&quot;rss&quot;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;2.0&quot;</span><span class="p">)</span>
<span class="n">channel</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">rss</span><span class="p">,</span> <span class="s2">&quot;channel&quot;</span><span class="p">)</span>
<span class="n">title</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">)</span>
<span class="n">title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s1">&#39;Podcast Sur les épaules de Darwin&#39;</span>
<span class="n">description</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">)</span>
<span class="n">description</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="s2">&quot;Podcast inofficiel de l&#39;émission Sur les épaules de Darwin, tiré du site http://clementgrimal.fr/darwin/ et https://www.franceinter.fr/emissions/sur-les-epaules-de-darwin&quot;</span>
<span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">df</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">item</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="s2">&quot;item&quot;</span><span class="p">)</span>
    <span class="n">item_title</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">)</span>
    <span class="n">item_title</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;titre&#39;</span><span class="p">]</span>
    <span class="n">item_description</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;description&quot;</span><span class="p">)</span>
    <span class="n">item_description</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;description_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span>
    <span class="n">item_content_encoded</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;content:encoded&quot;</span><span class="p">)</span>
    <span class="n">item_content_encoded</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
    <span class="n">item_pubdate</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;pubDate&quot;</span><span class="p">)</span>
    <span class="n">item_pubdate</span><span class="o">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">dateparser</span><span class="o">.</span><span class="n">parse</span><span class="p">(</span><span class="n">row</span><span class="o">.</span><span class="n">date</span><span class="p">)</span><span class="o">.</span><span class="n">date</span><span class="p">()</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%a</span><span class="s1">, </span><span class="si">%d</span><span class="s1"> %b %Y 11:00:00&#39;</span><span class="p">)</span>
    <span class="n">item_enclosure</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">SubElement</span><span class="p">(</span><span class="n">item</span><span class="p">,</span> <span class="s2">&quot;enclosure&quot;</span><span class="p">,</span> <span class="n">url</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;lien mp3&#39;</span><span class="p">]),</span>
                                   <span class="n">length</span><span class="o">=</span><span class="n">row</span><span class="o">.</span><span class="n">byte_length</span><span class="p">,</span>
                                  <span class="nb">type</span><span class="o">=</span><span class="s2">&quot;audio/mpeg&quot;</span><span class="p">)</span>
<span class="n">tree</span> <span class="o">=</span> <span class="n">ET</span><span class="o">.</span><span class="n">ElementTree</span><span class="p">(</span><span class="n">rss</span><span class="p">)</span>
<span class="n">tree</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="s2">&quot;files/podcast_Sur_les_epaules_de_Darwin.xml&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Le lien vers le fichier généré est ici : <strong><a href="https://raw.githubusercontent.com/flothesof/posts/master/files/podcast_Sur_les_epaules_de_Darwin.xml">https://raw.githubusercontent.com/flothesof/posts/master/files/podcast_Sur_les_epaules_de_Darwin.xml</a></strong>.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="prompt input_prompt">
</div><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><em>Ce billet a été écrit à l'aide d'un notebook Jupyter. Son contenu est sous licence BSD. Une vue statique de ce notebook peut être consultée et téléchargée ici : <a href="http://nbviewer.ipython.org/urls/raw.github.com/flothesof/posts/master/20170908_PodcastEpaulesDeDarwin.ipynb">20170908_PodcastEpaulesDeDarwin.ipynb</a>.</em></p>

</div>
</div>
</div>
 


<script type="text/javascript">if (!document.getElementById('mathjaxscript_pelican_#%@#$@#')) {
    var mathjaxscript = document.createElement('script');
    mathjaxscript.id = 'mathjaxscript_pelican_#%@#$@#';
    mathjaxscript.type = 'text/javascript';
    mathjaxscript.src = '//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML';
    mathjaxscript[(window.opera ? "innerHTML" : "text")] =
        "MathJax.Hub.Config({" +
        "    config: ['MMLorHTML.js']," +
        "    TeX: { extensions: ['AMSmath.js','AMSsymbols.js','noErrors.js','noUndefined.js'], equationNumbers: { autoNumber: 'AMS' } }," +
        "    jax: ['input/TeX','input/MathML','output/HTML-CSS']," +
        "    extensions: ['tex2jax.js','mml2jax.js','MathMenu.js','MathZoom.js']," +
        "    displayAlign: 'center'," +
        "    displayIndent: '0em'," +
        "    showMathMenu: true," +
        "    tex2jax: { " +
        "        inlineMath: [ ['$','$'] ], " +
        "        displayMath: [ ['$$','$$'] ]," +
        "        processEscapes: true," +
        "        preview: 'TeX'," +
        "    }, " +
        "    'HTML-CSS': { " +
        " linebreaks: { automatic: true, width: '95% container' }, " +
        "        styles: { '.MathJax_Display, .MathJax .mo, .MathJax .mi, .MathJax .mn': {color: 'black ! important'} }" +
        "    } " +
        "}); ";
    (document.body || document.getElementsByTagName('head')[0]).appendChild(mathjaxscript);
}
</script>
        </div>

        <div class="meta">
            <hr>
                <p>Cet article a été étiqueté avec les termes suivants :</p>
            <div>
                    <a href="http://flothesof.github.io/tag/podcast.html" class="tag">Podcast</a>
            </div>
            <hr>
            <div class="share">
                <ul>
                    <li><a href="https://www.facebook.com/sharer/sharer.php?u=http://flothesof.github.io/podcast-sur-les-epaules-de-Darwin-fr.html&amp;t=Un flux RSS pour le podcast Sur les épaules de Darwin" title="Share on Facebook" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Share on Facebook" src="/theme/social_flat_rounded_rects_svg/Facebook.svg"></a><a></a></li>
                    <li><a href="https://twitter.com/share?url=http://flothesof.github.io/podcast-sur-les-epaules-de-Darwin-fr.html&amp;text=Un flux RSS pour le podcast Sur les épaules de Darwin&amp;via=frolianlb" title="Tweet" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Tweet" src="/theme/social_flat_rounded_rects_svg/Twitter.svg"></a><a></a></li>
                    <li><a href="https://getpocket.com/save?url=http://flothesof.github.io/podcast-sur-les-epaules-de-Darwin-fr.html&amp;title=Un flux RSS pour le podcast Sur les épaules de Darwin" title="Add to Pocket" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Add to Pocket" src="/theme/social_flat_rounded_rects_svg/Pocket.svg"></a><a></a></li>
                    <li><a href="https://news.ycombinator.com/submitlink?u=http://flothesof.github.io/podcast-sur-les-epaules-de-Darwin-fr.html&amp;t=Un flux RSS pour le podcast Sur les épaules de Darwin" title="Submit to Hacker News" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Submit to Hacker News" src="/theme/social_flat_rounded_rects_svg/HackerNews.svg"></a><a></a></li>
                    <li><a href="https://www.reddit.com/submit?url=http://flothesof.github.io/podcast-sur-les-epaules-de-Darwin-fr.html&amp;title=Un flux RSS pour le podcast Sur les épaules de Darwin" title="Submit to Reddit" target="_blank" rel="noopener noreferrer"><img loading="lazy" alt="Submit to Reddit" src="/theme/social_flat_rounded_rects_svg/Reddit.svg"></a><a></a></li>
                </ul>
            </div>
            <hr>
        </div>
    </article>

  <section>
        <h1>Commentaires</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
    <script type="text/javascript">
      var disqus_shortname = 'froliansblog';
      var disqus_identifier = '/podcast-sur-les-epaules-de-Darwin-fr.html';
      var disqus_url = 'http://flothesof.github.io/podcast-sur-les-epaules-de-Darwin-fr.html';
      var disqus_title = 'Un flux RSS pour le podcast Sur les épaules de Darwin';
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
  </section>

</div>

<style type="text/css">
{
    max-width: 800px;
}

.text_cell .prompt {
    display: none;
}

div.cell {
    padding: 0;
}

div.text_cell_render {
    padding: 0;
}

div.prompt {
    font-size: 13px;
}

div.input_prompt {
    padding: .7em 0.2em;
}

div.output_prompt {
    padding: .4em .2em;
}

div.input_area {
    margin: .2em 0.4em;
}

table.dataframe {
    font-family: Arial, sans-serif;
    font-size: 13px;
    line-height: 20px;
}

table.dataframe th, td {
    padding: 4px;
    text-align: left;
}

pre code {
    background-color: inherit;
}</style>

        </div>
<!--
    <footer>
      <p>
        © 2012-2017 Florian Le Bourdais, license <a href=""> </a>
        unless otherwise noted.
        Generated by <a href= "http://docs.getpelican.com/">Pelican</a>.
      </p>
    </footer>
-->
    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-68753870-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-68753870-1');
    ga('send', 'pageview');
</script>
    </body>
</html>